"use strict";(self.webpackChunkfikfis=self.webpackChunkfikfis||[]).push([[196],{1196:(e,s,l)=>{l.r(s),l.d(s,{default:()=>c});var i=l(5043),d=l(4802),a=l(3003),n=l(4798),o=l(8861),r=l(9651),t=l(579);const c=()=>{var e,s,l,c;const u=(0,a.wA)(),[m,h]=(0,i.useState)(0),v=[(0,i.useRef)(null),(0,i.useRef)(null)],[x,j]=(0,i.useState)(!1),[p,b]=(0,i.useState)(null),[N,f]=(0,i.useState)({id:"",fullName:"",email:"",mobile:"",house_no:"",address:"",country:"",city:"",pincode:"",isDefault:!1}),[y,C]=(0,i.useState)({}),{addresses:A,defaultAddressId:k,selectedAddress:_,isAddressModelOpen:g}=(0,a.d4)((e=>e.modal)),{user:S}=(0,a.d4)((e=>e.user)),X=e=>{const{name:s,value:l}=e.target;let i=l;"mobile"===s&&/^\d+$/.test(l)&&!l.startsWith("+44")?(i=`+44${l}`,f({...N,[s]:i})):f({...N,[s]:l}),C({...y,[s]:""})},D=()=>{var e;const s={};N.fullName.trim()||(s.fullName="Full Name is required"),N.email.trim()&&/\S+@\S+\.\S+/.test(N.email)||(s.email="Invalid email address."),null!==N&&void 0!==N&&null!==(e=N.mobile)&&void 0!==e&&e.trim()&&/^\+44\d{10}$/.test(N.mobile)||(s.mobile="Phone number must be in the format +44XXXXXXXXXX (UK format).");const l=(()=>{const e={};return N.address.trim()||(e.address="Address is required."),N.country.trim()||(e.country="Country is required."),N.city.trim()||(e.city="City is required."),N.house_no.trim()||(e.house_no="House Number is required."),/^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}$/i.test(N.pincode)||(e.pincode="Invalid UK postal code."),e})();return{...s,...l}};return(0,i.useEffect)((()=>{u((0,r.XP)({offset:0,limit:20})),_&&g&&(f({id:_.id,fullName:_.full_name,email:_.email,address:_.street,country:_.country,city:_.locality,pincode:_.postcode,mobile:_.mobile,house_no:_.house_number,isDefault:!1}),j(!0),b(_.id))}),[_,g]),(0,t.jsx)("div",{className:"categoryModal address",children:(0,t.jsx)("div",{className:"modalBackdrop",children:(0,t.jsxs)("div",{className:"modalContent",children:[(0,t.jsx)("div",{className:"close",onClick:()=>{u((0,n.Ip)(!1))},children:(0,t.jsx)(d.A,{})}),(0,t.jsx)("div",{className:"addressTabsContainer",children:(0,t.jsxs)("div",{className:"tabs-container",children:[(0,t.jsxs)("div",{className:"tabs-buttons",children:[(0,t.jsx)("button",{className:0===m?"active":"",onClick:()=>h(0),children:x?"Edit Address":"Add Address"}),(0,t.jsx)("button",{className:1===m?"active":"",onClick:()=>h(1),children:"Save Address"})]}),(0,t.jsxs)("div",{className:"tabs-content",children:[(0,t.jsx)("div",{className:"tab-content",ref:v[0],style:{display:0===m?"block":"none"},children:(0,t.jsx)("div",{className:"addressForm",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();const s=D(),l={full_name:N.fullName,mobile:N.mobile,email:N.email,house_number:N.house_no,street:N.address,locality:N.city,postcode:N.pincode,country:N.country,...x&&{id:N.id}},i={offset:0,limit:20};0===Object.keys(s).length?(x?(u((0,r.wD)(l)),u((0,r.XP)(i))):(u((0,r.ei)(l)),u((0,r.XP)(i))),f({id:"",fullName:"",email:"",mobile:"",address:"",country:"",city:"",pincode:"",house_no:"",isDefault:!1}),j(!1),h(1)):C(s)},children:[(0,t.jsxs)("div",{className:"box",children:[(0,t.jsxs)("div",{className:"form-control",children:[(0,t.jsx)("label",{children:"Full Name(First and Last name)"}),(0,t.jsx)("input",{type:"text",name:"fullName",value:N.fullName,onChange:X}),y.fullName&&(0,t.jsx)("p",{className:"error",children:y.fullName})]}),(0,t.jsxs)("div",{className:"form-control",children:[(0,t.jsx)("label",{children:"Mobile Number"}),(0,t.jsx)("input",{type:"text",name:"mobile",value:N.mobile,onChange:X}),y.mobile&&(0,t.jsx)("p",{className:"error",children:y.mobile})]})]}),(0,t.jsxs)("div",{className:"box",children:[(0,t.jsxs)("div",{className:"form-control",children:[(0,t.jsx)("label",{children:"Email"}),(0,t.jsx)("input",{type:"email",name:"email",value:N.email,onChange:X}),y.email&&(0,t.jsx)("p",{className:"error",children:y.email})]}),(0,t.jsxs)("div",{className:"form-control",children:[(0,t.jsx)("label",{children:"House Number"}),(0,t.jsx)("input",{type:"text",name:"house_no",value:N.house_no,onChange:X}),y.house_no&&(0,t.jsx)("p",{className:"error",children:y.house_no})]})]}),(0,t.jsxs)("div",{className:"box",children:[(0,t.jsxs)("div",{className:"form-control",children:[(0,t.jsx)("label",{children:"Full Address"}),(0,t.jsx)("input",{type:"text",name:"address",value:N.address,onChange:X}),y.address&&(0,t.jsx)("p",{className:"error",children:y.address})]}),(0,t.jsxs)("div",{className:"form-control",children:[(0,t.jsx)("label",{children:"Town/City"}),(0,t.jsx)("input",{type:"text",name:"city",value:N.city,onChange:X}),y.city&&(0,t.jsx)("p",{className:"error",children:y.city})]})]}),(0,t.jsxs)("div",{className:"box",children:[(0,t.jsxs)("div",{className:"form-control",children:[(0,t.jsx)("label",{children:"Pincode"}),(0,t.jsx)("input",{type:"text",name:"pincode",value:N.pincode,onChange:X}),y.pincode&&(0,t.jsx)("p",{className:"error",children:y.pincode})]}),(0,t.jsxs)("div",{className:"form-control",children:[(0,t.jsx)("label",{children:"Country/Region"}),(0,t.jsx)("input",{type:"text",name:"country",value:N.country,onChange:X}),y.country&&(0,t.jsx)("p",{className:"error",children:y.country})]})]}),(0,t.jsx)(o.A,{type:"submit",value:x?"Update Address":"Save Address",varient:"explore",space:"sp-10"})]})})}),(0,t.jsx)("div",{className:"tab-content",ref:v[1],style:{display:1===m?"block":"none"},children:(0,t.jsx)("div",{className:"addressList",children:(null===(e=S[0])||void 0===e||null===(s=e.addresses)||void 0===s?void 0:s.length)>0?(0,t.jsx)("ul",{children:null===(l=S[0])||void 0===l||null===(c=l.addresses)||void 0===c?void 0:c.map((e=>(0,t.jsxs)("li",{children:[(0,t.jsx)("h4",{children:e.fullName}),(0,t.jsxs)("p",{children:["Full Address: ",e.house_number,", ",e.street,",",e.locality,", ",e.postcode]}),(0,t.jsxs)("p",{children:["Phone Number: ",e.mobile]}),(0,t.jsxs)("p",{children:["Email: ",e.email]}),(0,t.jsxs)("div",{className:"action",children:[(0,t.jsx)("p",{onClick:()=>(e=>{var s,l,i,d,a,n,o,r;const t={id:e.id,fullName:null===e||void 0===e||null===(s=e.full_name)||void 0===s?void 0:s.trim(),phone:null===e||void 0===e||null===(l=e.mobile)||void 0===l?void 0:l.trim(),email:null===e||void 0===e||null===(i=e.email)||void 0===i?void 0:i.trim(),house_no:null===e||void 0===e||null===(d=e.house_number)||void 0===d?void 0:d.trim(),address:null===e||void 0===e||null===(a=e.street)||void 0===a?void 0:a.trim(),city:null===e||void 0===e||null===(n=e.locality)||void 0===n?void 0:n.trim(),pincode:null===e||void 0===e||null===(o=e.postcode)||void 0===o?void 0:o.trim(),country:null===e||void 0===e||null===(r=e.country)||void 0===r?void 0:r.trim(),isDefault:!1};f({...t}),j(!0),h(0)})(e),children:"Edit |"}),(0,t.jsx)("p",{onClick:()=>(e=>{const s={id:e};u((0,r.ax)(s))})(e.id),children:"Remove |"}),(0,t.jsx)("p",{onClick:()=>(e=>{const s={id:e};u((0,r.US)(s))})(e.id),children:"true"===e.isDefault.toLowerCase()?"Default":"Set as Default"})]})]},e.id)))}):(0,t.jsx)("p",{children:"No saved addresses"})})})]})]})})]})})})}},8861:(e,s,l)=>{l.d(s,{A:()=>d});l(5043);var i=l(579);const d=e=>{let{type:s,value:l,varient:d,space:a,handleClick:n}=e;return(0,i.jsx)("div",{children:(0,i.jsx)("button",{type:s,className:`${d} ${a}`,onClick:n,children:l})})}}}]);
//# sourceMappingURL=196.a399cdea.chunk.js.map