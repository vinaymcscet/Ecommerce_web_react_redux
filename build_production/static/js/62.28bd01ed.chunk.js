"use strict";(self.webpackChunkfikfis=self.webpackChunkfikfis||[]).push([[62],{6200:(e,t,i)=>{i.d(t,{A:()=>r});var s=i(5043),a=i(1041),n=i(3003),l=i(579);const r=e=>{let{id:t,image:i,name:r,userrating:o,discountPrice:d,originalPrice:c,discountLabel:u,time:g,save:m,coupenCode:p,deliveryTime:h,freeDelivery:v,bestSeller:x,wishlistStatus:f,sku_id:j,onAddToCart:N,onProductClick:b,onIncrement:y,onDecrement:S,cartQuantity:w,offer:C,onProductImageClick:P,handleWishlistToggle:D}=e;const[k,L]=(0,s.useState)({whistlist:"/images/product/whistlist.svg",whistlistFill:"/images/product/whistlist-fill.svg"}),{user:$}=(0,n.d4)((e=>e.user));return(0,l.jsxs)("div",{className:"productBoxes",children:[(0,l.jsx)("div",{className:"whislistBox",children:(0,l.jsx)("div",{className:"wishlist-btn",onClick:D,children:"yes"===(null===f||void 0===f?void 0:f.toLowerCase())?(0,l.jsx)("img",{src:k.whistlistFill,alt:"Whistlist Product"}):(0,l.jsx)("img",{src:k.whistlist,alt:"Whistlist Product"})})}),i&&(0,l.jsx)("img",{src:i,alt:r,onClick:P}),r&&(0,l.jsx)("h4",{children:r.length>50?`${r.slice(0,50)}...`:r}),(0,l.jsxs)("div",{className:"priceList",children:[d&&(0,l.jsxs)("p",{className:"discount",children:["\xa3 ",d]}),c&&(0,l.jsxs)("p",{className:"original",children:["\xa3 ",c]})]}),(0,l.jsxs)("div",{className:"ratingAndCartWrap",children:[o&&(0,l.jsx)(a.A,{userrating:o}),C?null:0===w?(0,l.jsx)("button",{type:"button",onClick:()=>N(j),title:0===$.length?"Please login to add items to cart.":"Add to cart",children:"Add"}):(0,l.jsx)("button",{type:"button",onClick:()=>b(),title:0===$.length?"Please login to add items to cart.":"Add to cart",children:"Add"})]}),(u||g||m||p)&&(0,l.jsxs)("div",{className:"offerList "+(m?"saveMode":""),children:[u&&(0,l.jsx)("span",{children:u}),g&&(0,l.jsx)("h6",{children:g}),p&&(0,l.jsx)("p",{children:p})]}),h&&(0,l.jsx)("p",{children:h}),v&&(0,l.jsx)("p",{children:v}),x&&(0,l.jsx)("div",{className:"ribbon",children:"#Best Seller"})]},t)}},1041:(e,t,i)=>{i.d(t,{A:()=>n});var s=i(5043),a=i(579);const n=e=>{let{userrating:t=0,onRatingChange:i}=e;const[n,l]=(0,s.useState)(t||0),[r]=(0,s.useState)(5);return(0,a.jsx)("div",{className:"starRating",children:[...Array(r)].map(((e,t)=>{const s=t+1;return(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"rating",value:s,onChange:()=>(e=>{l(e),i&&i(e)})(s),userrating:n},e),(0,a.jsx)("span",{className:"star",style:{color:s<=n?"#ffc107":"#e4e5e9"},children:"\u2605"})]},t)}))})}},9062:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var s=i(5043),a=i(3216),n=i(3003),l=i(9651),r=i(6200),o=i(1637),d=i(2157),c=i.n(d),u=i(927),g=i(5702),m=i(5587),p=i(4798),h=i(579);const v=()=>{const e=(0,n.wA)(),t=(0,a.Zp)(),i=(0,a.zy)(),[d,v]=(0,s.useState)(!1),{productSectionData:x,productSectionCount:f=0,allOffersList:j}=(0,n.d4)((e=>e.product)),{id:N}=(0,a.g)(),[b,y]=(0,s.useState)(null),{user:S}=(0,n.d4)((e=>e.user)),w=new URLSearchParams(i.search),C=w.get("title"),[P,D]=(0,s.useState)(0),[k,L]=(0,s.useState)(30);(0,s.useEffect)((()=>{const t=parseInt(w.get("sectionPage"),10)||1,i=parseInt(w.get("sectionItemsPerPage"),10)||k;D(t-1),L(i);const s=(t-1)*i+1,a=i;(async()=>{if(v(!0),0===Number(N)){const t={offset:s,limit:a};await e((0,l.r1)(t))}else{const t={group_id:N,offset:s,limit:a};await e((0,l.Zm)(t))}v(!1)})()}),[i.search,e,N]);const $=e=>{const{selected:i}=e;w.set("sectionPage",i+1),t(`?${w.toString()}`)},A=i=>{if(0===S.length)e((0,p.YK)(!0));else{const s={product_id:i.product_id};e((0,l.pC)(s)),t(`/product/${i.product_id}`,{state:{product:i}})}},I=(u.lp.filter((e=>e<=f)),t=>{const i={sku_id:t,type:"increase"};e((0,l.Vn)(i)).finally((()=>{M()}))}),_=t=>{const i={sku_id:t,type:"decrease"};e((0,l.Vn)(i)).finally((()=>{M()}))},M=()=>{const t=parseInt(w.get("sectionPage"),10)||1,i=parseInt(w.get("sectionItemsPerPage"),10)||k;D(t-1),L(i);const s={group_id:N,offset:(t-1)*i+1,limit:i};e((0,l.Zm)(s)),e((0,l.x8)()),e((0,m.eE)(null))};return(0,h.jsx)("div",{className:"sectionDetail",children:d?(0,h.jsx)("div",{className:"loadingContainer",children:(0,h.jsx)(o.A,{})}):0===Number(N)&&j&&j.length>0?(0,h.jsxs)("div",{className:"productHistory",children:[(0,h.jsx)("div",{className:"browisingHistory",children:(0,h.jsx)("h3",{children:C})}),(0,h.jsx)("div",{className:"productList",children:j.map(((e,t)=>(0,h.jsx)("div",{children:(0,h.jsx)(r.A,{id:null===e||void 0===e?void 0:e.categoryId,image:(null===e||void 0===e?void 0:e.categoryImage)||"/images/no-product-available.png",name:null===e||void 0===e?void 0:e.categoryName,discountLabel:null===e||void 0===e?void 0:e.title,time:`valid till ${(0,g.Yq)(e.validTill)}`,wishlistStatus:e.wishlistStatus||"no",offer:"true"})},t)))}),(0,h.jsx)("div",{className:"paginationBox",children:(0,h.jsx)(c(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:Math.max(Math.ceil(f/k),1),marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:$,containerClassName:"pagination",activeClassName:"active",forcePage:P,disabled:0===f})})]}):x&&x.length>0&&(0,h.jsxs)("div",{className:"productHistory",children:[(0,h.jsx)("div",{className:"browisingHistory",children:(0,h.jsx)("h3",{children:C})}),(0,h.jsx)("div",{className:"productList",children:x.map(((i,s)=>(0,h.jsx)("div",{children:(0,h.jsx)(r.A,{id:null===i||void 0===i?void 0:i.group_id,image:i.imageUrl||"/images/no-product-available.png",name:i.name||"",userrating:i.rating||"0.0",discountPrice:i.discountedPrice||"",originalPrice:i.price||"",save:i.offer||"",coupenCode:i.coupen||"",deliveryTime:i.deliverytime||"",freeDelivery:i.freedelivery||"",bestSeller:i.bestseller||"",time:i.time||"",discountLabel:i.offer||"",wishlistStatus:i.wishlistStatus||"no",sku_id:i.sku_id,onAddToCart:()=>A(i),cartQuantity:Number(i.cartQuantity),onIncrement:I,onDecrement:_,onProductClick:()=>A(i),onProductImageClick:()=>(i=>{const s={product_id:i.product_id};e((0,l.pC)(s)),t(`/product/${i.product_id}`,{state:{product:i}})})(i),handleWishlistToggle:()=>(t=>{var i;if(0===S.length)return void e((0,p.YK)(!0));const s={sku_id:Number(null===t||void 0===t?void 0:t.sku_id)};"no"===(null===t||void 0===t||null===(i=t.wishlistStatus)||void 0===i?void 0:i.toLowerCase())?e((0,l.Hg)(s)).finally((()=>{M()})):e((0,l.b0)(s)).finally((()=>{M()}))})(i)})},s)))}),(0,h.jsx)("div",{className:"paginationBox",children:(0,h.jsx)(c(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:Math.max(Math.ceil(f/k),1),marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:$,containerClassName:"pagination",activeClassName:"active",forcePage:P,disabled:0===f})})]})})}},5702:(e,t,i)=>{i.d(t,{HU:()=>l,Vn:()=>s,Yq:()=>a,yR:()=>n});const s=e=>{const t=new Date(e);return`${t.toLocaleDateString()} ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`},a=e=>{const t=new Date(e),i=t.getDate();return`${i}${1===i||21===i||31===i?"st":2===i||22===i?"nd":3===i||23===i?"rd":"th"} ${t.toLocaleString("default",{month:"short"})}`},n=e=>{if(!e)return"Invalid Date";const t=e.includes(" ");let i;if(t){const[t,s]=e.split(" "),[a,n,l]=t.split("-").map(Number),[r,o]=s.split(":").map(Number);i=new Date(a,n-1,l,r,o)}else{const[t,s,a]=e.split("-").map(Number);i=new Date(a,s-1,t)}if(isNaN(i))return"Invalid Date";const s=i.toLocaleString("default",{weekday:"long"}),a=i.toLocaleString("default",{month:"short"}),n=(i.getFullYear(),i.getDate());let l=i.getHours();const r=l>=12?"PM":"AM";l=l%12||12,l=l.toString().padStart(2,"0");const o=i.getMinutes().toString().padStart(2,"0");return{formattedDate:`${i.getDate().toString().padStart(2,"0")}-${(i.getMonth()+1).toString().padStart(2,"0")}-${i.getFullYear()}`,fullDay:s,time:t?`${l}:${o} ${r}`:null,components:{day:n,month:a,weekDay:s,hour:l,minute:o,period:r}}},l=e=>{if(!e)return"Invalid Date";const[t,i,s]=e.split("-").map(Number),a=new Date(t,i-1,s);if(isNaN(a))return"Invalid Date";return`${a.getDate().toString().padStart(2,"0")}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getFullYear()}`}}}]);
//# sourceMappingURL=62.28bd01ed.chunk.js.map